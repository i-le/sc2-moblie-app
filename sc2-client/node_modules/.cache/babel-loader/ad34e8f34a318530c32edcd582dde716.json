{"ast":null,"code":"import axios from 'axios'; // url: 请求路径； data: 请求参数对象；type: 请求方式，默认get\n\nexport default function ajax(url, data = {}, type = 'GET') {\n  if (type === 'GET') {\n    // get请求将data对象拼接成字符串\n    // data: {username: tom, password: 123} -> paramStr: username=tom&passwrod=123\n    let paramStr = '';\n    Object.keys(data).forEach(key => {\n      paramStr += key + '=' + data[key] + '&';\n    }); // 存在，则说明拼过串。去掉最后一个多余的‘&’\n\n    if (paramStr) {\n      paramStr = paramStr.substring(0, paramStr.length - 1);\n    }\n\n    return axios.get(url + '?' + paramStr);\n  } else {\n    return axios.post(url, data);\n  }\n}","map":{"version":3,"sources":["/Users/s/Desktop/react/sc2-app/sc2-client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","paramStr","Object","keys","forEach","key","substring","length","get","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAC,EAAxB,EAA4BC,IAAI,GAAC,KAAjC,EAAwC;AACnD,MAAIA,IAAI,KAAK,KAAb,EAAoB;AAChB;AACA;AACA,QAAIC,QAAQ,GAAG,EAAf;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAI;AAC7BJ,MAAAA,QAAQ,IAAII,GAAG,GAAG,GAAN,GAAYN,IAAI,CAACM,GAAD,CAAhB,GAAwB,GAApC;AACH,KAFD,EAJgB,CAOhB;;AACA,QAAIJ,QAAJ,EAAc;AACVA,MAAAA,QAAQ,GAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsBL,QAAQ,CAACM,MAAT,GAAkB,CAAxC,CAAX;AACH;;AACD,WAAOX,KAAK,CAACY,GAAN,CAAUV,GAAG,GAAG,GAAN,GAAYG,QAAtB,CAAP;AACH,GAZD,MAYO;AACH,WAAOL,KAAK,CAACa,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAP;AACH;AACJ","sourcesContent":["import axios from 'axios'\n\n// url: 请求路径； data: 请求参数对象；type: 请求方式，默认get\nexport default function ajax(url, data={}, type='GET') {\n    if (type === 'GET') {\n        // get请求将data对象拼接成字符串\n        // data: {username: tom, password: 123} -> paramStr: username=tom&passwrod=123\n        let paramStr = ''\n        Object.keys(data).forEach(key => {\n            paramStr += key + '=' + data[key] + '&'\n        })\n        // 存在，则说明拼过串。去掉最后一个多余的‘&’\n        if (paramStr) {\n            paramStr = paramStr.substring(0, paramStr.length - 1)\n        }\n        return axios.get(url + '?' + paramStr)\n    } else {\n        return axios.post(url, data)\n    }\n}"]},"metadata":{},"sourceType":"module"}