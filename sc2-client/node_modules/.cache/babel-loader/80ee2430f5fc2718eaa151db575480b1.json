{"ast":null,"code":"import axios from'axios';// url: 请求路径； data: 请求参数对象；type: 请求方式，默认get\nexport default function ajax(url){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'GET';if(type==='GET'){// get请求将data对象拼接成字符串\n// data: {username: tom, password: 123} -> paramStr: username=tom&passwrod=123\nvar paramStr='';Object.keys(data).forEach(function(key){paramStr+=key+'='+data[key]+'&';});// 存在，则说明拼过串。去掉最后一个多余的‘&’\nif(paramStr){paramStr=paramStr.substring(0,paramStr.length-1);}return axios.get(url+'?'+paramStr);}else{return axios.post(url,data);}}","map":{"version":3,"sources":["/Users/s/Desktop/react/sc2-app/sc2-client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","paramStr","Object","keys","forEach","key","substring","length","get","post"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,cAAe,SAASC,CAAAA,IAAT,CAAcC,GAAd,CAAwC,IAArBC,CAAAA,IAAqB,2DAAhB,EAAgB,IAAZC,CAAAA,IAAY,2DAAP,KAAO,CACnD,GAAIA,IAAI,GAAK,KAAb,CAAoB,CAChB;AACA;AACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACAC,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0B,SAAAC,GAAG,CAAI,CAC7BJ,QAAQ,EAAII,GAAG,CAAG,GAAN,CAAYN,IAAI,CAACM,GAAD,CAAhB,CAAwB,GAApC,CACH,CAFD,EAGA;AACA,GAAIJ,QAAJ,CAAc,CACVA,QAAQ,CAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,CAAsBL,QAAQ,CAACM,MAAT,CAAkB,CAAxC,CAAX,CACH,CACD,MAAOX,CAAAA,KAAK,CAACY,GAAN,CAAUV,GAAG,CAAG,GAAN,CAAYG,QAAtB,CAAP,CACH,CAZD,IAYO,CACH,MAAOL,CAAAA,KAAK,CAACa,IAAN,CAAWX,GAAX,CAAgBC,IAAhB,CAAP,CACH,CACJ","sourcesContent":["import axios from 'axios'\n\n// url: 请求路径； data: 请求参数对象；type: 请求方式，默认get\nexport default function ajax(url, data={}, type='GET') {\n    if (type === 'GET') {\n        // get请求将data对象拼接成字符串\n        // data: {username: tom, password: 123} -> paramStr: username=tom&passwrod=123\n        let paramStr = ''\n        Object.keys(data).forEach(key => {\n            paramStr += key + '=' + data[key] + '&'\n        })\n        // 存在，则说明拼过串。去掉最后一个多余的‘&’\n        if (paramStr) {\n            paramStr = paramStr.substring(0, paramStr.length - 1)\n        }\n        return axios.get(url + '?' + paramStr)\n    } else {\n        return axios.post(url, data)\n    }\n}"]},"metadata":{},"sourceType":"module"}